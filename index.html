<html>
	<head>
		<title>Grid Capture</title>
		<link rel="stylesheet" type="text/css" href="stylesheet.css" />
		<script type="text/javascript" src="Kinetic.js"></script>
		<script type="text/javascript" src="game.js"></script>
		<script src="jquery.js"></script>
		<script src="jquery-ui.js"></script>
		<script src="pageScripts.js"></script>
	</head>
	<body>
		<h1>Grid Capture!</h1>
		<div id="PlayerInfo"></div>
		<div id="container"></div>
		<a href="#" id="dialog-link" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-newwin"></span>Settings</a>
		<div id="settingsDialog" title="Settings">
			<div id="playerNameSettings" title="Settings"></div>
			<div id="gridSize" title="Settings"></div>
		</div>



		<script>
			initgame('gameCanvas');
			$( "#settingsDialog" ).dialog({
				autoOpen: false,
				width: 400,
				buttons: [
					{
						text: "Save",
						click: function() {
							var playerNames = $('#playerNameSettings input').map(function(){return $(this).val();}).get();
							var gridSize = $('#gridSize input').map(function(){return $(this).val();}).get();
								saveSettings(playerNames, gridSize);
							for (i = 0; i < $('#playerNameSettings input').length; i++)
							{
								exchangeBack($('#playerNameSettings input')[i].id);
							}
							$( this ).dialog( "close" );
						}
					},
					{
						text: "Cancel",
						click: function() {
							$( this ).dialog( "close" );
						}
					}
				]
			});
			  // Link to open the dialog
			$( "#dialog-link" ).click(function( event ) {
				$( "#settingsDialog" ).dialog( "open" );
				event.preventDefault();
			});
		</script>

	</body>
</html>